import{r as F,a as K,b as V,g as W}from"./index-DqnJWyU3.js";function Y(l,s){return s.forEach(function(a){a&&typeof a!="string"&&!Array.isArray(a)&&Object.keys(a).forEach(function(i){if(i!=="default"&&!(i in l)){var c=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(l,i,c.get?c:{enumerable:!0,get:function(){return a[i]}})}})}),Object.freeze(l)}var P,g;function $(){if(g)return P;g=1;var l=Object.create,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,c=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,T=(t,e,r)=>e in t?s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,L=(t,e)=>{for(var r in e)s(t,r,{get:e[r],enumerable:!0})},f=(t,e,r,d)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of i(e))!w.call(t,o)&&o!==r&&s(t,o,{get:()=>e[o],enumerable:!(d=a(e,o))||d.enumerable});return t},b=(t,e,r)=>(r=t!=null?l(c(t)):{},f(!t||!t.__esModule?s(r,"default",{value:t,enumerable:!0}):r,t)),D=t=>f(s({},"__esModule",{value:!0}),t),n=(t,e,r)=>(T(t,typeof e!="symbol"?e+"":e,r),r),v={};L(v,{default:()=>y}),P=D(v);var E=b(F()),u=K(),h=V();const C="https://player.twitch.tv/js/embed/v1.js",N="Twitch",I="twitch-player-";class y extends E.Component{constructor(){super(...arguments),n(this,"callPlayer",u.callPlayer),n(this,"playerID",this.props.config.playerId||`${I}${(0,u.randomString)()}`),n(this,"mute",()=>{this.callPlayer("setMuted",!0)}),n(this,"unmute",()=>{this.callPlayer("setMuted",!1)})}componentDidMount(){this.props.onMount&&this.props.onMount(this)}load(e,r){const{playsinline:d,onError:o,config:j,controls:A}=this.props,p=h.MATCH_URL_TWITCH_CHANNEL.test(e),_=p?e.match(h.MATCH_URL_TWITCH_CHANNEL)[1]:e.match(h.MATCH_URL_TWITCH_VIDEO)[1];if(r){p?this.player.setChannel(_):this.player.setVideo("v"+_);return}(0,u.getSDK)(C,N).then(m=>{this.player=new m.Player(this.playerID,{video:p?"":_,channel:p?_:"",height:"100%",width:"100%",playsinline:d,autoplay:this.props.playing,muted:this.props.muted,controls:p?!0:A,time:(0,u.parseStartTime)(e),...j.options});const{READY:M,PLAYING:S,PAUSE:R,ENDED:H,ONLINE:x,OFFLINE:U,SEEK:q}=m.Player;this.player.addEventListener(M,this.props.onReady),this.player.addEventListener(S,this.props.onPlay),this.player.addEventListener(R,this.props.onPause),this.player.addEventListener(H,this.props.onEnded),this.player.addEventListener(q,this.props.onSeek),this.player.addEventListener(x,this.props.onLoaded),this.player.addEventListener(U,this.props.onLoaded)},o)}play(){this.callPlayer("play")}pause(){this.callPlayer("pause")}stop(){this.callPlayer("pause")}seekTo(e,r=!0){this.callPlayer("seek",e),r||this.pause()}setVolume(e){this.callPlayer("setVolume",e)}getDuration(){return this.callPlayer("getDuration")}getCurrentTime(){return this.callPlayer("getCurrentTime")}getSecondsLoaded(){return null}render(){const e={width:"100%",height:"100%"};return E.default.createElement("div",{style:e,id:this.playerID})}}return n(y,"displayName","Twitch"),n(y,"canPlay",h.canPlay.twitch),n(y,"loopOnEnded",!0),P}var O=$(),G=W(O),B=Y({__proto__:null,default:G},[O]);export{B as T};
